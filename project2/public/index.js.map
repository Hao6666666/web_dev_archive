{"version":3,"file":"index.js","mappings":"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","sources":["webpack://server/./src/controller.js","webpack://server/./src/error.js","webpack://server/./src/page.js","webpack://server/./src/service.js","webpack://server/webpack/bootstrap","webpack://server/./src/index.js"],"sourcesContent":["const page = require(\"./page.js\");\nconst service = require(\"./service.js\");\n\nconst controller = {\n  setUpController() {\n    const appEl = document.querySelector(\".app\");\n    appEl.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      const classname = e.target.className;\n      if (classname === \"login-btn\") {\n        const username = document.querySelector(\".user-input\").value;\n        service\n          .fetchLogin(username)\n          .then((response) => page.render(response))\n          .then(() => {\n            return service.fetchGetChat();\n          })\n          .then((response) => page.chatPage(response))\n          .then(() => {\n            return service.fetchGetUsers();\n          })\n          .then((response) => page.userStatus(response.currentUsers));\n      } else if (classname === \"logout-btn\") {\n        service.fetchLogout().then(() => {\n          page.chatPage();\n          page.userStatus();\n          page.render();\n        });\n      } else if (classname === \"text-btn\") {\n        const text = document.querySelector(\".text-input\").value;\n        document.querySelector(\".text-form\").reset();\n        service\n          .fetchPostText(text)\n          .then(() => {\n            return service.fetchGetChat();\n          })\n          .then((response) => page.chatPage(response));\n      } else {\n        return;\n      }\n    });\n  },\n\n  setRefresh() {\n    setInterval(() => {\n      return service\n        .fetchGetChat()\n        .then((response) => {\n          page.chatPage(response);\n        })\n        .then(() => {\n          return service.fetchGetUsers();\n        })\n        .then((response) => {\n          page.userStatus(response.currentUsers);\n        });\n    }, 5000);\n  },\n};\n\nmodule.exports = controller;\n","const error = {\n  render(err) {\n    const errorEL = document.querySelector(\".error-messages\");\n    if (err) {\n      errorEL.innerHTML = err;\n    } else {\n      errorEL.innerHTML = \"\";\n    }\n  },\n};\n\nmodule.exports = error;\n","const page = {\n  loginPage(response) {\n    const LoaderEL = document.querySelector(\".loader\");\n    LoaderEL.innerHTML = \"\";\n\n    const loginEL = document.querySelector(\".login-page\");\n    if (response !== undefined) {\n      loginEL.innerHTML = \"\";\n    } else {\n      loginEL.innerHTML = `\n      <h1>Chat Room</h1>\n      <form action=\"\">\n          <label>Username: \n              <input type=\"text\" name=\"username\" class=\"user-input\">\n          </label>\n          <button type=\"submit\" class=\"login-btn\">Login</button>    \n      </form>\n        `;\n    }\n  },\n\n  userStatus(response) {\n    const currentUserEL = document.querySelector(\".login-status\");\n    if (response) {\n      currentUserEL.innerHTML = page.getCurrentUsers(response);\n      const chatList = document.querySelector(\".messages\");\n      chatList.scrollTop = chatList.scrollHeight;\n    } else {\n      currentUserEL.innerHTML = \"\";\n    }\n  },\n\n  chatPage(response) {\n    const errorEL = document.querySelector(\".error-messages\");\n    errorEL.innerHTML = \":-)\";\n\n    const chatPage = document.querySelector(\".chat-page\");\n\n    if (response !== undefined) {\n      chatPage.innerHTML = page.getMessageList(response.storedChat);\n    } else {\n      chatPage.innerHTML = \"\";\n    }\n  },\n\n  chatButton(response) {\n    const LoaderEL = document.querySelector(\".loader\");\n    LoaderEL.innerHTML = \"\";\n\n    const chatButton = document.querySelector(\".chat-button\");\n    if (response !== undefined) {\n      chatButton.innerHTML = `\n        <h3>Send Message</h3>\n        <form action=\"\" class=\"text-form\">\n            <label>\n                <input type=\"text\" class=\"text-input\" name=${response.username} placeholder=\"Hi ${response.username}, Enter your message\"></input>\n            </label>\n            <button class='text-btn' type=\"submit\" >Submit</button>\n            <button class='logout-btn' type=\"submit\">Logout</button>\n        </form>\n       `;\n    } else {\n      chatButton.innerHTML = \"\";\n    }\n  },\n\n  getMessageList(content) {\n    return (\n      `<h3>Chat History</h3><ol class=\"messages\">` +\n      content\n        .map(\n          (chat) => `\n              <li>\n                <div class=\"message\">\n                  <div class=\"sender-info\">\n                    <span class=\"username\">${chat.username}</span>\n                  </div>\n                  <p class=\"message-text\">${chat.text}</p>\n                </div>\n              </li>\n        `\n        )\n        .join(\"\") +\n      `</ol>`\n    );\n  },\n\n  getCurrentUsers(content) {\n    return (\n      `<a>Online Users:</a><ul class=\"current-user\">` +\n      Object.keys(content)\n        .map(\n          (user) => `\n              <li>${user}</li>\n        `\n        )\n        .join(\"\") +\n      `</ul>`\n    );\n  },\n\n  render(response) {\n    page.loginPage(response);\n    page.chatButton(response);\n  },\n};\n\nmodule.exports = page;\n","const page = require(\"./page.js\");\nconst error = require(\"./error.js\");\n\nconst service = {\n  fetchLogin(username) {\n    return fetch(\"/v1/api/session/\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ username }),\n    })\n      .catch((err) => Promise.reject({ error: \"Network error...\" }))\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((err) => {\n            error.render(err.error);\n            return Promise.reject(err);\n          });\n        }\n        return response.json();\n      });\n  },\n\n  fetchLogout() {\n    return fetch(\"/v1/api/session/\", {\n      method: \"DELETE\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n    })\n      .catch((err) => Promise.reject({ error: \"Network error...\" }))\n      .then((response) => {\n        return response.json();\n      });\n  },\n\n  fetchGetChat() {\n    return fetch(\"/v1/api/chat\", {\n      method: \"GET\",\n    })\n      .catch((err) => Promise.reject({ error: \"Network error...\" }))\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((err) => Promise.reject(err));\n        }\n        return response.json();\n      });\n  },\n\n  fetchPostText(text) {\n    return fetch(\"/v1/api/chat\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ text }),\n    })\n      .catch((err) => Promise.reject({ error: \"Network error...\" }))\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((err) => {\n            error.render(err.error);\n            return Promise.reject(err);\n          });\n        }\n        return response.json();\n      });\n  },\n\n  fetchGetUsers() {\n    return fetch(\"/v1/api/user\", {\n      method: \"GET\",\n    })\n      .catch((err) => Promise.reject({ error: \"Network error...\" }))\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((err) => Promise.reject(err));\n        }\n        return response.json();\n      });\n  },\n\n  fetchSession() {\n    return fetch(\"/v1/api/session\")\n      .catch((err) => {\n        return Promise.reject(err);\n      })\n      .then((response) => {\n        if (!response.ok) {\n          return response.json().then((err) => {\n            error.render(err.error);\n            return Promise.reject(err);\n          });\n        }\n        return response.json();\n      })\n      .then((response) => {\n        page.render(response);\n      })\n      .then(() => {\n        return service.fetchGetChat();\n      })\n      .then((response) => {\n        page.chatPage(response);\n      })\n      .then(() => {\n        return service.fetchGetUsers();\n      })\n      .then((response) => {\n        page.userStatus(response.currentUsers);\n      });\n  },\n};\n\nmodule.exports = service;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const page = require(\"./page.js\");\nconst controller = require(\"./controller.js\");\nconst service = require(\"./service.js\");\n\nsetTimeout(() => {\n  controller.setUpController();\n  controller.setRefresh();\n  service.fetchSession();\n  page.render();\n}, 1000);\n"],"names":["page","require","service","controller","setUpController","appEl","document","querySelector","addEventListener","e","preventDefault","classname","target","className","username","value","fetchLogin","then","response","render","fetchGetChat","chatPage","fetchGetUsers","userStatus","currentUsers","fetchLogout","text","reset","fetchPostText","setRefresh","setInterval","module","exports","error","err","errorEL","innerHTML","loginPage","LoaderEL","loginEL","undefined","currentUserEL","getCurrentUsers","chatList","scrollTop","scrollHeight","getMessageList","storedChat","chatButton","concat","content","map","chat","join","Object","keys","user","fetch","method","headers","body","JSON","stringify","Promise","reject","ok","json","fetchSession","setTimeout"],"sourceRoot":""}